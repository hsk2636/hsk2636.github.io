<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PDA 출고/입고/재입고 프로시저 분석 | pda-procedure-analysis</title>

    <!-- 메인 스타일 재사용 -->
    <link rel="stylesheet" href="../../style.css?v=4">

    <!-- 프로젝트 페이지 전용 살짝 추가 스타일 -->
    <style>
        .project-page {
            max-width: 900px;
        }

        .project-container {
            margin-top: 24px;
            margin-bottom: 40px;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 999px;
            font-size: 12px;
            font-weight: 600;
            background: #eef2ff;
            color: #3730a3;
            border: 1px solid #c7d2fe;
            margin-right: 6px;
        }

        .code-block {
            background: #0f172a;
            color: #e5e7eb;
            padding: 14px 16px;
            border-radius: 10px;
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
                         "Liberation Mono", "Courier New", monospace;
            font-size: 13px;
            overflow-x: auto;
            margin-bottom: 16px;
        }

        .section-title-sub {
            font-size: 15px;
            font-weight: 700;
            margin: 18px 0 8px;
        }

        .back-link {
            display: inline-block;
            margin-top: 10px;
            font-size: 13px;
            text-decoration: none;
            color: #4f46e5;
        }
    </style>
</head>
<body>

<div class="page project-page">

    <!-- 상단 헤더 -->
    <header class="header">
        <h1>PDA 출고/입고/재입고 프로시저 분석</h1>
        <h3>pda-procedure-analysis</h3>
        <p>
            PDA(Android) 단말에서 스캔한 바코드 정보를 Oracle PL/SQL 프로시저로 처리하여,<br>
            출고(Shipment) · 입고(Receiving) · 재입고(Re-Receiving) 로직을 단계별로 분석한 프로젝트입니다.
        </p>
        <div style="margin-top:14px;">
            <span class="badge">Oracle PL/SQL</span>
            <span class="badge">PDA (Android)</span>
            <span class="badge">ERP / MES Interface</span>
        </div>
    </header>

    <main class="project-container">

        <!-- 개요 -->
        <section>
            <h2 class="section-title">프로젝트 개요</h2>
            <p class="text-body">
                제조 현장에서 사용하는 PDA 출고/입고 메뉴는 대부분
                <b>스캔 → 검증 → 상태 변경 → 로그 기록 → ERP 전송</b> 흐름으로 동작합니다.<br>
                이 프로젝트에서는 실제 현업에서 자주 등장하는 패턴을 참고하여,
                <b>출고, 입고, 재입고</b> 프로시저 구조를 Oracle PL/SQL 코드 형태로 정리했습니다.
            </p>
        </section>

        <!-- 파일 구성 -->
        <section>
            <h2 class="section-title">파일 구성</h2>

            <div class="code-block">
<pre><code>pda-procedure-analysis/
 ├─ 01_pda_ship_proc.sql        -- 출고 등록(Shipment) 프로시저 예제
 ├─ 02_pda_receive_proc.sql     -- 입고 등록(Receiving) 프로시저 예제
 ├─ 03_pda_re_receive_proc.sql  -- 재입고(Re-Receiving) 프로시저 예제
 ├─ 04_common_pkg.sql           -- 공통 상수/로그 기록 패키지 예제
 └─ README.md                   -- 프로젝트 설명 및 흐름도</code></pre>
            </div>
        </section>

        <!-- 핵심 PL/SQL 패턴 1 -->
        <section>
            <h2 class="section-title">핵심 PL/SQL 패턴</h2>

            <div class="section-title-sub">1) 출고 등록 프로시저 기본 구조</div>
            <div class="code-block">
<pre><code>CREATE OR REPLACE PROCEDURE pr_pda_ship (
    p_lot_no      IN  VARCHAR2,
    p_ship_type   IN  VARCHAR2,   -- ETC / MOV / SAL ...
    p_user_id     IN  VARCHAR2,
    p_out_msg     OUT VARCHAR2
) IS
BEGIN
    -- 1. LOT 존재 여부 및 상태 검증
    -- 2. 재고 수량 / 사용 가능 여부 체크
    -- 3. 출고 이력 테이블(LOT_TXN) INSERT
    -- 4. LOT 상태 = 'SHIPPED' 로 변경
    -- 5. ERP 인터페이스 테이블 적재(필요 시)
    COMMIT;

    p_out_msg := 'OK';

EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        p_out_msg := 'ERROR : ' || SQLERRM;
END pr_pda_ship;</code></pre>
            </div>

            <p class="text-body">
                위 구조는 <b>LOT 검증 → 재고 검증 → 상태 변경 → 로그 기록 → COMMIT/ROLLBACK</b> 까지
                PDA 출고 처리의 기본 뼈대를 보여줍니다. 실제 현업 프로시저를 분석할 때도,
                이 순서를 기준으로 <b>BEGIN ~ EXCEPTION ~ END</b> 블록을 따라가면 이해하기 쉽습니다.
            </p>
        </section>

        <!-- 핵심 PL/SQL 패턴 2 -->
        <section>
            <div class="section-title-sub">2) 공통 로그 패키지 활용</div>
            <div class="code-block">
<pre><code>PACKAGE pkg_pda_log IS
    PROCEDURE write_log (
        p_lot_no   IN VARCHAR2,
        p_action   IN VARCHAR2,   -- SHIP / RECEIVE / RE-RECEIVE ...
        p_message  IN VARCHAR2
    );
END pkg_pda_log;
/
PACKAGE BODY pkg_pda_log IS
    PROCEDURE write_log (
        p_lot_no   IN VARCHAR2,
        p_action   IN VARCHAR2,
        p_message  IN VARCHAR2
    ) IS
    BEGIN
        INSERT INTO tb_pda_log ( log_dt, lot_no, action_type, message )
        VALUES ( SYSDATE, p_lot_no, p_action, p_message );
    END;
END pkg_pda_log;</code></pre>
            </div>

            <p class="text-body">
                출고/입고/재입고 프로시저에서 공통으로 사용하는 <b>로그 기록 로직</b>을
                패키지(Package)로 분리하면, 각 프로시저에서는
                <code>pkg_pda_log.write_log(...)</code> 한 줄로 호출할 수 있어
                코드 중복을 크게 줄일 수 있습니다.
            </p>
        </section>

        <!-- 활용 포인트 -->
        <section>
            <h2 class="section-title">활용 포인트</h2>
            <ul class="text-body">
                <li>스캔 기반 PDA 업무 흐름(LOT 검증 → 상태 변경 → 로그 기록)을 PL/SQL 구조로 정리</li>
                <li>IN/OUT 파라미터를 이용한 <b>결과 메시지 반환 패턴</b> 학습</li>
                <li>패키지(Package)를 이용한 공통 로직 분리 및 재사용 구조 확인</li>
                <li>ERP Interface 테이블 연계 위치를 코드 수준에서 파악하는 연습</li>
            </ul>
        </section>

        <!-- GitHub / 뒤로가기 -->
        <section>
            <h2 class="section-title">GitHub 레포지토리</h2>
            <p class="text-body">
                실제 예제 소스 코드는 아래 GitHub 저장소에 정리되어 있습니다.
            </p>
            <p class="text-body">
                <a href="https://github.com/hsk2636/pda-procedure-analysis"
                   class="project-link project-link-github"
                   target="_blank" rel="noopener noreferrer">
                    GitHub에서 보기
                </a>
            </p>

            <a href="../../index.html" class="back-link">← 메인 포트폴리오로 돌아가기</a>
        </section>

    </main>
</div>

</body>
</html>
